(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{426:function(t,a,s){"use strict";s.r(a);var n=s(4),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("工作中遇到一个情况，有的电脑卡，有的电脑不卡。这时候可能继续将卡的电脑中的文件copy到不卡的电脑中，但是我又不想将多余的代码copy过来。")]),t._v(" "),a("p",[t._v("这时候可以使用git的命令，将卡的电脑上的代码中的变更过的代码copy过来。这样")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mac")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" diff-tree "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" --no-commit-id --name-only "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("file_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".tar \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  windows")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" HEAD --name-only "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("file_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".tar\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" HEAD --name-only "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" cpio "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-pvdmu")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("file_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".tar\n\n")])])]),a("p",[t._v("打成git 补丁包patch文件，更加方便，使用git一键还原")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提取当前未修改的内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" changes.patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 还原提取的内容")]),t._v("\npatch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" changes.patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 交互式的自己指定路径的方式来还原")]),t._v("\npatch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" changes.patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 扩展：提取指定路径下当前未修改的内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" changes.patch\n\n")])])]),a("p",[a("strong",[t._v("但是以上的patch做法有缺陷")])]),t._v(" "),a("p",[t._v("它无法提取出你新创建的文件。所以需要换种方式，使用 format-patch 。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提取最近一次commit的内容，会生成带编号的补丁文件，HEAD表示当前的一次记录，-1 表示基于当前记录的前一次。HEAD 可以换成commit_id，-1可以改成-2或者-3，表示前面几次的总集")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" format-patch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),t._v(" HEAD\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提取最近一次commit的内容，自定义命名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" format-patch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),t._v(" HEAD "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--stdout")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("file_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 还原提取的内容")]),t._v("\npatch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" changes.patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 交互式的自己指定路径的方式来还原")]),t._v("\npatch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" changes.patch\n")])])]),a("p",[t._v("还有一个就是mac电脑上查看隐藏文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示隐藏文件")]),t._v("\ndefaults "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" com.apple.finder AppleShowAllFiles TRUE\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v(" Finder\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 隐藏掉隐藏文件")]),t._v("\ndefaults "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" com.apple.finder AppleShowAllFiles FALSE\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v(" Finder\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);