(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{454:function(t,c,e){},506:function(t,c,e){"use strict";var i=e(0),a=e(16),n=e(112),r=e(62),s=e(28),o=e(238),f=e(148),p=e(63),g=e(241),d=e(86)("splice"),h=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!d},{splice:function(t,c){var e,i,d,u,v,l,b=a(this),_=s(b),j=n(t,_),z=arguments.length;for(0===z?e=i=0:1===z?(e=0,i=_-j):(e=z-2,i=m(h(r(c),0),_-j)),o(_+e-i),d=f(b,i),u=0;u<i;u++)(v=j+u)in b&&p(d,u,b[v]);if(d.length=i,e<i){for(u=j;u<_-i;u++)l=u+e,(v=u+i)in b?b[l]=b[v]:g(b,l);for(u=_;u>_-i+e;u--)g(b,u-1)}else if(e>i)for(u=_-i;u>j;u--)l=u+e-1,(v=u+i-1)in b?b[l]=b[v]:g(b,l);for(u=0;u<e;u++)b[u+j]=arguments[u+2];return b.length=_-i+e,d}})},507:function(t,c,e){"use strict";e(454)},521:function(t,c,e){"use strict";e.r(c);var i=e(58),a=e(87),n=(e(81),e(43),e(26),e(5),e(27),e(111),e(236),e(506),{name:"ImageShuffle",data:function(){return{adding:!1,loading:!1,getSister:o(),imgs:[],imgHeights:[],imgsLoaded:!1,leftImgIndexes:[],rightImgIndexes:[]}},mounted:function(){var t=this;return Object(a.a)(Object(i.a)().mark((function c(){var e;return Object(i.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t.loading=!0,e=t.getSister(),c.next=4,f(e);case 4:t.imgs=e,t.loading=!1;case 6:case"end":return c.stop()}}),c)})))()},methods:{add:function(){var t=this;return Object(a.a)(Object(i.a)().mark((function c(){var e;return Object(i.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!t.adding){c.next=2;break}return c.abrupt("return");case 2:return t.adding=!0,e=t.getSister(),c.next=6,f(e);case 6:t.adding=!1,t.scheduleAnimation((function(){t.imgs=e.concat(t.imgs)}));case 8:case"end":return c.stop()}}),c)})))()},shuffle:function(){var t=this;this.scheduleAnimation((function(){t.imgs=g(t.imgs)}))},scheduleAnimation:function(t){var c=this,e=this.$refs.imgs.slice(),i=this.createSrcRectMap(e);console.info("prevSrcRectMap",i),t(),this.$nextTick((function(){var t=c.createSrcRectMap(e);console.info("createSrcRectMap",t),Object.keys(i).forEach((function(c){var e=t[c],a=i[c],n={left:a.left-e.left,top:a.top-e.top},r=[{transform:"translate(".concat(n.left,"px, ").concat(n.top,"px)")},{transform:"translate(0, 0)"}],s=e.img.animate(r,{duration:300,easing:"cubic-bezier(0,0,0.32,1)"});console.info(s)}))}))},reset:function(){this.getSister=o(),this.imgs=this.getSister()},createSrcRectMap:function(t){return t.reduce((function(t,c){var e=c.getBoundingClientRect(),i=e.left,a=e.top;return t[c.src]={left:i,top:a,img:c},t}),{})}}}),r=["https://pic1.zhimg.com/v2-ca51a8ce18f507b2502c4d495a217fa0_r.jpg","https://pic1.zhimg.com/v2-c90799771ed8469608f326698113e34c_r.jpg","https://pic1.zhimg.com/v2-8d3dd83f3a419964687a028de653f8d8_r.jpg","https://pic1.zhimg.com/v2-09eefac19ac282684f60a202aa9abb2c_r.jpg","https://pic2.zhimg.com/v2-37860484a1a73257178e95267c7db641_r.jpg","https://pic2.zhimg.com/v2-7fc30291c807d07d2d26c5a8ffdd3b89_r.jpg","https://pic4.zhimg.com/v2-02efe89495be4f68f6b7b6c510da36cf_r.jpg","https://pic4.zhimg.com/v2-aeadbc3d02af2631e3a7acd0dc72b01b_r.jpg","https://pic3.zhimg.com/v2-a71fad6a1fee2614ad95a4bae0376eb6_r.jpg","https://pic3.zhimg.com/v2-861f71f28e361237003aa1c88188f326_r.jpg","https://pic4.zhimg.com/v2-525c8002eb619387e7a31f67169f8a2b_r.jpg","https://pic4.zhimg.com/v2-0dcbcf5a48a97afab7439e09af65c98f_r.jpg","https://pic1.zhimg.com/v2-d640737ff5eac65fe30375f324512d00_r.jpg","https://pic1.zhimg.com/v2-6e92b4576b93302ad5fe04c7e95e375c_r.jpg","https://pic1.zhimg.com/v2-5e4a1221996179cbacc5d7450d25f908_r.jpg","https://pic3.zhimg.com/v2-7f58a7d6e8b1ed3f653a96ae9d6e1e2e_r.jpg","https://pic4.zhimg.com/v2-fb767fd3f56591a3c4b2b4089c47776f_r.jpg","https://pic2.zhimg.com/v2-6b9847e11d3a8cac8ac0ef52bffd9af5_r.jpg","https://pic2.zhimg.com/v2-6f2119f99200fc61abc246eea36f25b1_r.jpg","https://pic4.zhimg.com/v2-2103acaf025ceda331a0dd59022443ab_r.jpg","https://pic2.zhimg.com/v2-edc1b118c420939c545b1449344139b5_r.jpg","https://pic2.zhimg.com/v2-d94530f491f23c61659ef458ac8a9db5_r.jpg","https://pic2.zhimg.com/v2-ff15820a9c1cb8e2bb0af1048ea81145_r.jpg","https://pic4.zhimg.com/v2-a8fb0a1d8581e4bfce905791271711c7_r.jpg","https://pic2.zhimg.com/v2-1008cd2c72129809cc348cdc04310475_r.jpg"],s=[1,2,3,4],o=function(){var t=r.slice(),c=!0;return function(){if(c)return c=!1,t.splice(0,8);var e=p(0,s.length-1);return t.splice(0,s[e])}},f=function(t){return new Promise((function(c){t.length||c();var e=t.length,i=0;t.forEach((function(t){var a=new Image,n=function(){++i===e&&c()};a.onload=n,a.onerror=n,a.src=t}))}))},p=function(t,c){return Math.floor(Math.random()*(c-t+1)+t)},g=function(t){for(var c=t.slice(),e=0;e<c.length;e++){var i=p(0,e),a=c[e];c[e]=c[i],c[i]=a}return c},d=n,h=(e(507),e(20)),m=Object(h.a)(d,(function(){var t=this,c=t.$createElement,e=t._self._c||c;return e("div",{staticClass:"image-shuffle"},[e("div",{staticClass:"action"},[e("button",{on:{click:t.add}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.adding,expression:"adding"}]},[t._v("下载中……")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.adding,expression:"!adding"}]},[t._v("追加图片")])]),t._v(" "),e("button",{on:{click:t.shuffle}},[t._v("乱序图片")]),t._v(" "),e("button",{on:{click:t.reset}},[t._v("重置")])]),t._v(" "),t.loading?e("div",{staticClass:"loading"},[t._v("正在加载图片……")]):e("div",{staticClass:"wrap"},t._l(t.imgs,(function(t){return e("div",{key:t,staticClass:"img-wrap"},[e("img",{ref:"imgs",refInFor:!0,staticClass:"img",attrs:{src:t}})])})),0)])}),[],!1,null,"1cd58ad8",null);c.default=m.exports}}]);