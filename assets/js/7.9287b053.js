(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{424:function(t,e,c){},476:function(t,e,c){"use strict";var i=c(1),a=c(0),r=c(103),n=c(53),s=c(22),o=c(15),f=c(139),p=c(54),g=c(75)("splice"),d=a.TypeError,m=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!g},{splice:function(t,e){var c,i,a,g,u,l,v=o(this),b=s(v),_=r(t,b),j=arguments.length;if(0===j?c=i=0:1===j?(c=0,i=b-_):(c=j-2,i=h(m(n(e),0),b-_)),b+c-i>9007199254740991)throw d("Maximum allowed length exceeded");for(a=f(v,i),g=0;g<i;g++)(u=_+g)in v&&p(a,g,v[u]);if(a.length=i,c<i){for(g=_;g<b-i;g++)l=g+c,(u=g+i)in v?v[l]=v[u]:delete v[l];for(g=b;g>b-i+c;g--)delete v[g-1]}else if(c>i)for(g=b-i;g>_;g--)l=g+c-1,(u=g+i-1)in v?v[l]=v[u]:delete v[l];for(g=0;g<c;g++)v[g+_]=arguments[g+2];return v.length=b-i+c,a}})},477:function(t,e,c){"use strict";c(424)},491:function(t,e,c){"use strict";c.r(e);var i=c(74),a=(c(70),c(51),c(32),c(5),c(33),c(101),c(224),c(476),c(136),{name:"ImageShuffle",data:function(){return{adding:!1,loading:!1,getSister:s(),imgs:[],imgHeights:[],imgsLoaded:!1,leftImgIndexes:[],rightImgIndexes:[]}},mounted:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,c=t.getSister(),e.next=4,o(c);case 4:t.imgs=c,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:{add:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.adding){e.next=2;break}return e.abrupt("return");case 2:return t.adding=!0,c=t.getSister(),e.next=6,o(c);case 6:t.adding=!1,t.scheduleAnimation((function(){t.imgs=c.concat(t.imgs)}));case 8:case"end":return e.stop()}}),e)})))()},shuffle:function(){var t=this;this.scheduleAnimation((function(){t.imgs=p(t.imgs)}))},scheduleAnimation:function(t){var e=this,c=this.$refs.imgs.slice(),i=this.createSrcRectMap(c);console.info("prevSrcRectMap",i),t(),this.$nextTick((function(){var t=e.createSrcRectMap(c);console.info("createSrcRectMap",t),Object.keys(i).forEach((function(e){var c=t[e],a=i[e],r={left:a.left-c.left,top:a.top-c.top},n=[{transform:"translate(".concat(r.left,"px, ").concat(r.top,"px)")},{transform:"translate(0, 0)"}],s=c.img.animate(n,{duration:300,easing:"cubic-bezier(0,0,0.32,1)"});console.info(s)}))}))},reset:function(){this.getSister=s(),this.imgs=this.getSister()},createSrcRectMap:function(t){return t.reduce((function(t,e){var c=e.getBoundingClientRect(),i=c.left,a=c.top;return t[e.src]={left:i,top:a,img:e},t}),{})}}}),r=["https://pic1.zhimg.com/v2-ca51a8ce18f507b2502c4d495a217fa0_r.jpg","https://pic1.zhimg.com/v2-c90799771ed8469608f326698113e34c_r.jpg","https://pic1.zhimg.com/v2-8d3dd83f3a419964687a028de653f8d8_r.jpg","https://pic1.zhimg.com/v2-09eefac19ac282684f60a202aa9abb2c_r.jpg","https://pic2.zhimg.com/v2-37860484a1a73257178e95267c7db641_r.jpg","https://pic2.zhimg.com/v2-7fc30291c807d07d2d26c5a8ffdd3b89_r.jpg","https://pic4.zhimg.com/v2-02efe89495be4f68f6b7b6c510da36cf_r.jpg","https://pic4.zhimg.com/v2-aeadbc3d02af2631e3a7acd0dc72b01b_r.jpg","https://pic3.zhimg.com/v2-a71fad6a1fee2614ad95a4bae0376eb6_r.jpg","https://pic3.zhimg.com/v2-861f71f28e361237003aa1c88188f326_r.jpg","https://pic4.zhimg.com/v2-525c8002eb619387e7a31f67169f8a2b_r.jpg","https://pic4.zhimg.com/v2-0dcbcf5a48a97afab7439e09af65c98f_r.jpg","https://pic1.zhimg.com/v2-d640737ff5eac65fe30375f324512d00_r.jpg","https://pic1.zhimg.com/v2-6e92b4576b93302ad5fe04c7e95e375c_r.jpg","https://pic1.zhimg.com/v2-5e4a1221996179cbacc5d7450d25f908_r.jpg","https://pic3.zhimg.com/v2-7f58a7d6e8b1ed3f653a96ae9d6e1e2e_r.jpg","https://pic4.zhimg.com/v2-fb767fd3f56591a3c4b2b4089c47776f_r.jpg","https://pic2.zhimg.com/v2-6b9847e11d3a8cac8ac0ef52bffd9af5_r.jpg","https://pic2.zhimg.com/v2-6f2119f99200fc61abc246eea36f25b1_r.jpg","https://pic4.zhimg.com/v2-2103acaf025ceda331a0dd59022443ab_r.jpg","https://pic2.zhimg.com/v2-edc1b118c420939c545b1449344139b5_r.jpg","https://pic2.zhimg.com/v2-d94530f491f23c61659ef458ac8a9db5_r.jpg","https://pic2.zhimg.com/v2-ff15820a9c1cb8e2bb0af1048ea81145_r.jpg","https://pic4.zhimg.com/v2-a8fb0a1d8581e4bfce905791271711c7_r.jpg","https://pic2.zhimg.com/v2-1008cd2c72129809cc348cdc04310475_r.jpg"],n=[1,2,3,4],s=function(){var t=r.slice(),e=!0;return function(){if(e)return e=!1,t.splice(0,8);var c=f(0,n.length-1);return t.splice(0,n[c])}},o=function(t){return new Promise((function(e){t.length||e();var c=t.length,i=0;t.forEach((function(t){var a=new Image,r=function(){++i===c&&e()};a.onload=r,a.onerror=r,a.src=t}))}))},f=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},p=function(t){for(var e=t.slice(),c=0;c<e.length;c++){var i=f(0,c),a=e[c];e[c]=e[i],e[i]=a}return e},g=a,d=(c(477),c(18)),m=Object(d.a)(g,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"image-shuffle"},[c("div",{staticClass:"action"},[c("button",{on:{click:t.add}},[c("span",{directives:[{name:"show",rawName:"v-show",value:t.adding,expression:"adding"}]},[t._v("下载中……")]),t._v(" "),c("span",{directives:[{name:"show",rawName:"v-show",value:!t.adding,expression:"!adding"}]},[t._v("追加图片")])]),t._v(" "),c("button",{on:{click:t.shuffle}},[t._v("乱序图片")]),t._v(" "),c("button",{on:{click:t.reset}},[t._v("重置")])]),t._v(" "),t.loading?c("div",{staticClass:"loading"},[t._v("正在加载图片……")]):c("div",{staticClass:"wrap"},t._l(t.imgs,(function(t){return c("div",{key:t,staticClass:"img-wrap"},[c("img",{ref:"imgs",refInFor:!0,staticClass:"img",attrs:{src:t}})])})),0)])}),[],!1,null,"1cd58ad8",null);e.default=m.exports}}]);