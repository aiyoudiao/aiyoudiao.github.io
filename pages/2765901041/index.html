<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>React16_4æ•´ç†-Reduxä¸Šé˜¶ | aiyoudiao</title>
    <meta name="generator" content="VuePress 1.9.7" />
    <link rel="icon" href="/img/blog.ico">
    <script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js"></script> <meta name="description" content="ç äºŒ~">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,gitee,markdown">
    <meta name="theme-color" content="#11a8cd">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"> <link rel="preload" href="/assets/css/0.styles.ea2a3732.css" as="style"><link rel="preload" href="/assets/js/app.b0fcccfe.js" as="script"><link rel="preload" href="/assets/js/4.18cf3db0.js" as="script"><link rel="preload" href="/assets/js/5.db528381.js" as="script"><link rel="preload" href="/assets/js/39.ba46b0f0.js" as="script"><link rel="preload" href="/assets/js/10.5878982b.js" as="script"><link rel="preload" href="/assets/js/12.b50c8587.js" as="script"><link rel="prefetch" href="/assets/js/1.439da08b.js"><link rel="prefetch" href="/assets/js/11.34e0f5d3.js"><link rel="prefetch" href="/assets/js/13.a189f534.js"><link rel="prefetch" href="/assets/js/14.c7b5a992.js"><link rel="prefetch" href="/assets/js/15.4fbbf878.js"><link rel="prefetch" href="/assets/js/16.3b98f347.js"><link rel="prefetch" href="/assets/js/17.dd8fab0b.js"><link rel="prefetch" href="/assets/js/18.44c18465.js"><link rel="prefetch" href="/assets/js/19.1789b4a1.js"><link rel="prefetch" href="/assets/js/2.b1727633.js"><link rel="prefetch" href="/assets/js/20.ad25b31c.js"><link rel="prefetch" href="/assets/js/21.97a0f175.js"><link rel="prefetch" href="/assets/js/22.236e2bbd.js"><link rel="prefetch" href="/assets/js/23.c75f0f6d.js"><link rel="prefetch" href="/assets/js/24.5e21b497.js"><link rel="prefetch" href="/assets/js/25.50fbe65c.js"><link rel="prefetch" href="/assets/js/26.d0f0efe4.js"><link rel="prefetch" href="/assets/js/27.b2b66fd3.js"><link rel="prefetch" href="/assets/js/28.36801279.js"><link rel="prefetch" href="/assets/js/29.955bad14.js"><link rel="prefetch" href="/assets/js/30.dd6058be.js"><link rel="prefetch" href="/assets/js/31.0bf4b716.js"><link rel="prefetch" href="/assets/js/32.defaffb0.js"><link rel="prefetch" href="/assets/js/33.cb43fd8b.js"><link rel="prefetch" href="/assets/js/34.81a4a8e0.js"><link rel="prefetch" href="/assets/js/35.f1746372.js"><link rel="prefetch" href="/assets/js/36.d4669354.js"><link rel="prefetch" href="/assets/js/37.5ba4d5db.js"><link rel="prefetch" href="/assets/js/38.ee8ba816.js"><link rel="prefetch" href="/assets/js/40.139d722f.js"><link rel="prefetch" href="/assets/js/41.6862eae2.js"><link rel="prefetch" href="/assets/js/42.febdee61.js"><link rel="prefetch" href="/assets/js/43.99e9eb08.js"><link rel="prefetch" href="/assets/js/44.bbaadc9a.js"><link rel="prefetch" href="/assets/js/45.4f646aeb.js"><link rel="prefetch" href="/assets/js/46.ac6d652a.js"><link rel="prefetch" href="/assets/js/47.54b6dcf4.js"><link rel="prefetch" href="/assets/js/48.ad6da82e.js"><link rel="prefetch" href="/assets/js/49.2ac590f1.js"><link rel="prefetch" href="/assets/js/50.6ea70dde.js"><link rel="prefetch" href="/assets/js/51.14fdda82.js"><link rel="prefetch" href="/assets/js/52.a4d9717e.js"><link rel="prefetch" href="/assets/js/53.bc119ed3.js"><link rel="prefetch" href="/assets/js/54.b525a61e.js"><link rel="prefetch" href="/assets/js/55.185a4dfd.js"><link rel="prefetch" href="/assets/js/56.354f3b3a.js"><link rel="prefetch" href="/assets/js/57.a0f90959.js"><link rel="prefetch" href="/assets/js/58.06c9f66d.js"><link rel="prefetch" href="/assets/js/59.36dd9cfd.js"><link rel="prefetch" href="/assets/js/6.f1379f50.js"><link rel="prefetch" href="/assets/js/60.7b5620fa.js"><link rel="prefetch" href="/assets/js/61.b67ec096.js"><link rel="prefetch" href="/assets/js/62.becdf6bc.js"><link rel="prefetch" href="/assets/js/63.5a0ec6ae.js"><link rel="prefetch" href="/assets/js/64.a1695e9d.js"><link rel="prefetch" href="/assets/js/65.440a57ed.js"><link rel="prefetch" href="/assets/js/66.1ef9e70f.js"><link rel="prefetch" href="/assets/js/67.05c745b4.js"><link rel="prefetch" href="/assets/js/68.f3f4d52a.js"><link rel="prefetch" href="/assets/js/69.2b3ec11e.js"><link rel="prefetch" href="/assets/js/7.7b608178.js"><link rel="prefetch" href="/assets/js/70.0a56cb06.js"><link rel="prefetch" href="/assets/js/71.fa081e55.js"><link rel="prefetch" href="/assets/js/72.b7b6f95d.js"><link rel="prefetch" href="/assets/js/73.04373bbb.js"><link rel="prefetch" href="/assets/js/74.bc71707c.js"><link rel="prefetch" href="/assets/js/75.416a8592.js"><link rel="prefetch" href="/assets/js/76.f3bbee73.js"><link rel="prefetch" href="/assets/js/77.f28dd3ab.js"><link rel="prefetch" href="/assets/js/78.8250a97b.js"><link rel="prefetch" href="/assets/js/79.66fb7771.js"><link rel="prefetch" href="/assets/js/8.63622793.js"><link rel="prefetch" href="/assets/js/80.2d773505.js"><link rel="prefetch" href="/assets/js/81.e71da438.js"><link rel="prefetch" href="/assets/js/82.8abd1f44.js"><link rel="prefetch" href="/assets/js/83.c0021869.js"><link rel="prefetch" href="/assets/js/84.35edcbf1.js"><link rel="prefetch" href="/assets/js/85.3494e1d4.js"><link rel="prefetch" href="/assets/js/86.3f9ab1a7.js"><link rel="prefetch" href="/assets/js/87.89b9fe92.js"><link rel="prefetch" href="/assets/js/88.86d3ef87.js"><link rel="prefetch" href="/assets/js/89.40061dfd.js"><link rel="prefetch" href="/assets/js/9.4c34c6e2.js"><link rel="prefetch" href="/assets/js/90.7b21348a.js"><link rel="prefetch" href="/assets/js/91.74c8072a.js"><link rel="prefetch" href="/assets/js/92.c81bb4f2.js"><link rel="prefetch" href="/assets/js/93.0e325cea.js"><link rel="prefetch" href="/assets/js/94.d9d7e748.js"><link rel="prefetch" href="/assets/js/95.003fb5b2.js"><link rel="prefetch" href="/assets/js/96.ef1c3465.js"><link rel="prefetch" href="/assets/js/97.0fffe3e0.js"> <link rel="stylesheet" href="/assets/css/0.styles.ea2a3732.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" width="50" height="50" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://p3-passport.byteacctimg.com/img/user-avatar/794fdae4ff249d532da19a3c26d420ed~300x300.image" alt="aiyoudiao" class="logo"> <span class="site-name can-hide">
      aiyoudiao
    </span></a> <div class="links"><div class="sky-switch" data-v-3a03d589><label for="toggle" data-v-3a03d589><input id="toggle" type="checkbox" data-v-3a03d589><div data-v-3a03d589></div></label></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¬”è®°" class="dropdown-title"><!----> <span class="title" style="display:;">ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/84633490449/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/pages/2331001041/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/pages/18114480448/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/pages/25236260426/" class="nav-link">
  ä½ä»£ç 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸è®¾è®¡" class="dropdown-title"><!----> <span class="title" style="display:;">ç®—æ³•ä¸è®¾è®¡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/70741550255/" class="nav-link">
  LeetCode
</a></li><li class="dropdown-item"><!----> <a href="/pages/17845450445/" class="nav-link">
  ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/pages/90132170217/" class="nav-link">
  æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/pages/50546120212/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/pages/02344550255/" class="nav-link">
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€èƒ½" class="dropdown-title"><!----> <span class="title" style="display:;">æŠ€èƒ½</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/82158160216/" class="nav-link">
  PMP
</a></li><li class="dropdown-item"><!----> <a href="/pages/41858590259/" class="nav-link">
  Office
</a></li><li class="dropdown-item"><!----> <a href="/pages/02359360236/" class="nav-link">
  é¢è¯•
</a></li><li class="dropdown-item"><!----> <a href="/pages/73600130213/" class="nav-link">
  Bash
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å†ç¨‹" class="dropdown-title"><!----> <span class="title" style="display:;">å†ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/83857320232/" class="nav-link">
  æµå¹´
</a></li><li class="dropdown-item"><!----> <a href="/pages/93419130213/" class="nav-link">
  ç‰‡æ®µ
</a></li><li class="dropdown-item"><!----> <a href="/pages/99744220322/" class="nav-link">
  è¯»ä¹¦
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¦–é¡µ" class="dropdown-title"><!----> <span class="title" style="display:;">é¦–é¡µ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">
  å½’æ¡£
</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">
  åˆ†ç±»
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">
  æ ‡ç­¾
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><!----> <span class="title" style="display:;">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/02657130213/" class="nav-link">
  ç®€ä»‹
</a></li><li class="dropdown-item"><!----> <a href="/pages/5390102042/" class="nav-link">
  æ”¶è—
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/mar.jpg"> <div class="blogger-info"><h3>ç äºŒ</h3> <span>æ‰«å¾®ä¿¡äºŒç»´ç ï¼Œè®¤è¯†ä¸€ä¸‹ç äºŒå§ğŸ˜‰ã€‚</span></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¬”è®°" class="dropdown-title"><!----> <span class="title" style="display:;">ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/84633490449/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/pages/2331001041/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/pages/18114480448/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/pages/25236260426/" class="nav-link">
  ä½ä»£ç 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸è®¾è®¡" class="dropdown-title"><!----> <span class="title" style="display:;">ç®—æ³•ä¸è®¾è®¡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/70741550255/" class="nav-link">
  LeetCode
</a></li><li class="dropdown-item"><!----> <a href="/pages/17845450445/" class="nav-link">
  ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/pages/90132170217/" class="nav-link">
  æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/pages/50546120212/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/pages/02344550255/" class="nav-link">
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€èƒ½" class="dropdown-title"><!----> <span class="title" style="display:;">æŠ€èƒ½</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/82158160216/" class="nav-link">
  PMP
</a></li><li class="dropdown-item"><!----> <a href="/pages/41858590259/" class="nav-link">
  Office
</a></li><li class="dropdown-item"><!----> <a href="/pages/02359360236/" class="nav-link">
  é¢è¯•
</a></li><li class="dropdown-item"><!----> <a href="/pages/73600130213/" class="nav-link">
  Bash
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å†ç¨‹" class="dropdown-title"><!----> <span class="title" style="display:;">å†ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/83857320232/" class="nav-link">
  æµå¹´
</a></li><li class="dropdown-item"><!----> <a href="/pages/93419130213/" class="nav-link">
  ç‰‡æ®µ
</a></li><li class="dropdown-item"><!----> <a href="/pages/99744220322/" class="nav-link">
  è¯»ä¹¦
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¦–é¡µ" class="dropdown-title"><!----> <span class="title" style="display:;">é¦–é¡µ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">
  å½’æ¡£
</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">
  åˆ†ç±»
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">
  æ ‡ç­¾
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><!----> <span class="title" style="display:;">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/02657130213/" class="nav-link">
  ç®€ä»‹
</a></li><li class="dropdown-item"><!----> <a href="/pages/5390102042/" class="nav-link">
  æ”¶è—
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>16_4</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/18114480448/" class="sidebar-link">React16_4æ•´ç†-å¼€ç¯‡</a></li><li><a href="/pages/78144320432/" class="sidebar-link">React16_4æ•´ç†-TodoList</a></li><li><a href="/pages/7981309049/" class="sidebar-link">React16_4æ•´ç†-ä¸Šé˜¶</a></li><li><a href="/pages/4241004044/" class="sidebar-link">React16_4æ•´ç†-Reduxå¼€ç¯‡</a></li><li><a href="/pages/2765901041/" aria-current="page" class="active sidebar-link">React16_4æ•´ç†-Reduxä¸Šé˜¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2765901041/#å‰è¨€" class="sidebar-link">å‰è¨€</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#ui-ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„æ‹†åˆ†" class="sidebar-link">UI ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„æ‹†åˆ†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2765901041/#ä»£ç†ç¤ºä¾‹" class="sidebar-link">ä»£ç†ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#react-ä¸­æ— çŠ¶æ€ç»„ä»¶" class="sidebar-link">React ä¸­æ— çŠ¶æ€ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#redux-ä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®" class="sidebar-link">Redux ä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#ä½¿ç”¨-redux-thunk-ä¸­é—´ä»¶è¿›è¡Œ-ajax-è¯·æ±‚å‘é€" class="sidebar-link">ä½¿ç”¨ Redux-thunk ä¸­é—´ä»¶è¿›è¡Œ ajax è¯·æ±‚å‘é€</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#åˆ°åº•ä»€ä¹ˆæ˜¯-redux-ä¸­é—´ä»¶" class="sidebar-link">åˆ°åº•ä»€ä¹ˆæ˜¯ Redux ä¸­é—´ä»¶ï¼Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2765901041/#é™¤äº†-redux-thunk-è¿™æ ·çš„ä¸­é—´ä»¶ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ä¸­é—´ä»¶" class="sidebar-link">é™¤äº† redux-thunk è¿™æ ·çš„ä¸­é—´ä»¶ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ä¸­é—´ä»¶</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#redux-sage-ä¸­é—´ä»¶çš„ä½¿ç”¨" class="sidebar-link">Redux-sage ä¸­é—´ä»¶çš„ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#react-redux" class="sidebar-link">React-redux</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#react-redux-çš„ä½¿ç”¨" class="sidebar-link">React-redux çš„ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/pages/2765901041/#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/pages/53933290429/" class="sidebar-link">React16_4æ•´ç†-å®æˆ˜</a></li></ul></section></li><li><a href="/pages/2541802042/" class="sidebar-link">reactå¿ƒå¾—</a></li><li><a href="/pages/56216400440/" class="sidebar-link">reactè®¾è®¡çš„å“²å­¦</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ä½ä»£ç </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è¯»ä¹¦ä¼š</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-18fb2c02><div class="articleInfo" data-v-18fb2c02><ul class="breadcrumbs" data-v-18fb2c02><li data-v-18fb2c02><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-18fb2c02></a></li> <li data-v-18fb2c02><a href="/categories/?category=%E7%AC%94%E8%AE%B0" title="åˆ†ç±»" data-v-18fb2c02>
          ç¬”è®°
        </a></li> <li data-v-18fb2c02><a href="/categories/?category=react" title="åˆ†ç±»" data-v-18fb2c02>
          react
        </a></li> <li data-v-18fb2c02><a href="/categories/?category=16_4" title="åˆ†ç±»" data-v-18fb2c02>16_4</a></li></ul> <div class="info" data-v-18fb2c02><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-18fb2c02><a href="javascript:;" data-v-18fb2c02>aiyoudiao</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-18fb2c02><a href="javascript:;" data-v-18fb2c02>2022-04-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><!----> <span>
            React16_4æ•´ç†-Reduxä¸Šé˜¶
          </span></h1> <div class="theme-vdoing-content content__default"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>å‰é¢è¯´åˆ°<code>React</code>ä¸­ <code>æ•°æ®ä¸è§†å›¾åˆ†ç¦»</code>ï¼Œä½†æ˜¯<code>JSé€»è¾‘å’Œè§†å›¾</code>æ˜¯<code>æ··åœ¨ä¸€èµ·</code>çš„ï¼Œå…¶å®å¯ä»¥é€šè¿‡è®¾è®¡æ¥è¿›è¡Œæ‹†åˆ†ã€‚<br>
è¿˜æœ‰æ— çŠ¶æ€ç»„ä»¶ä»¥åŠReactä¸­reduxçš„ä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œæ¯”å¦‚redux-thunkã€redux-sagaã€‚<br>
thunkæ¨è¿Ÿæ‰§è¡Œï¼Œsagaç”¨åˆ°äº†ç”Ÿæˆå™¨ï¼Œã€‚è¿™äº›ç¬¬ä¸‰æ–¹æ’ä»¶éƒ½æ˜¯ä¸ºäº†è®©çŠ¶æ€ç®¡ç†æ›´åŠ çš„è½»æ¾ï¼Œä»è€Œé™ä½å¿ƒæ™ºå‹åŠ›ã€‚</p> <h2 id="ui-ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„æ‹†åˆ†"><a href="#ui-ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„æ‹†åˆ†" class="header-anchor">#</a> UI ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„æ‹†åˆ†</h2> <p>UI ç»„ä»¶ä¹Ÿå«<code>å‚»ç“œç»„ä»¶</code>ï¼Œå®¹å™¨ç»„ä»¶ä¹Ÿå«<code>èªæ˜ç»„ä»¶</code>ã€‚<br>
UI ç»„ä»¶è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå®¹å™¨ç»„ä»¶è´Ÿè´£é¡µé¢çš„é€»è¾‘ã€‚</p> <h3 id="ä»£ç†ç¤ºä¾‹"><a href="#ä»£ç†ç¤ºä¾‹" class="header-anchor">#</a> ä»£ç†ç¤ºä¾‹</h3> <p><strong>UI ç»„ä»¶-TodoListUI</strong></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Input <span class="token punctuation">,</span>Button<span class="token punctuation">,</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'../node_modules/antd/dist/antd.css'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TodoListUI</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div style <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>margin<span class="token operator">:</span> <span class="token string">'10px 0px 0px 10px'</span><span class="token punctuation">,</span>width<span class="token operator">:</span> <span class="token string">&quot;500px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                &lt;Input placeholder = &quot;è¯·è¾“å…¥å†…å®¹&quot;
                value = </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>inputValue<span class="token punctuation">}</span><span class="token plain-text">
                onChange = </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span><span class="token plain-text">
                style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>marginRight<span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">,</span>width<span class="token operator">:</span> <span class="token string">&quot;350px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
                /&gt;
                &lt;Button type = &quot;primary&quot;
                        style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token string">&quot;80px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
                        onClick = </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token plain-text">
                        &gt;æäº¤
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                &lt;List
                    bordered
                    dataSource = </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>list<span class="token punctuation">}</span><span class="token plain-text">
                    style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token string">'350px'</span><span class="token punctuation">,</span>marginTop<span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
                    renderItem = </span><span class="token punctuation">{</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>List<span class="token punctuation">.</span>Item onClick <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">handleRemoveItem</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                    /&gt;
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> TodoListUI<span class="token punctuation">;</span>
</code></pre></div><p><strong>å®¹å™¨ç»„ä»¶-TodoList</strong></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TodoListUI <span class="token keyword">from</span> <span class="token string">'./TodoListUI'</span>

<span class="token comment">//import store from './store/index.js'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span>
<span class="token comment">// import {CHANGEINPUTVALUE,ADDLISTITEM,REMOVEITEM} from './store/actionTypes'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>getInputeChangeAction<span class="token punctuation">,</span> addListItemAction<span class="token punctuation">,</span> removeItemAction<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./store/actionCreators'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handleStoreChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleStoreChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handleRemoveItem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleRemoveItem</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ç›‘å¬ storeä¸­çš„çŠ¶æ€æ”¹å˜</span>
        store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStoreChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>TodoListUI
                inputValue <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>inputValue<span class="token punctuation">}</span>
                handleChange <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span>
                handleClick <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span>
                handleRemoveItem <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleRemoveItem<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">handleChange</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">getInputeChangeAction</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">handleStoreChange</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">addListItemAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">handleRemoveItem</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">removeItemAction</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span>
</code></pre></div><h2 id="react-ä¸­æ— çŠ¶æ€ç»„ä»¶"><a href="#react-ä¸­æ— çŠ¶æ€ç»„ä»¶" class="header-anchor">#</a> React ä¸­æ— çŠ¶æ€ç»„ä»¶</h2> <p>ä»¥å‡½æ•°å®šä¹‰çš„æ–¹å¼å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ª props æ¥è·å–ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚<br>
å½“ä¸€ä¸ªç»„ä»¶åªæœ‰ render å‡½æ•°çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ— çŠ¶æ€çš„ç»„ä»¶æ›¿æ¢è¿™ä¸ªç»„ä»¶ã€‚</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Input<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'../node_modules/antd/dist/antd.css'</span><span class="token punctuation">;</span>
<span class="token comment">// æ— çŠ¶æ€ç»„ä»¶çš„å†™æ³•</span>
<span class="token keyword">const</span> <span class="token function-variable function">TodoListUI2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div style <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>margin<span class="token operator">:</span> <span class="token string">'10px 0px 0px 10px'</span><span class="token punctuation">,</span>width<span class="token operator">:</span> <span class="token string">&quot;500px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            &lt;Input placeholder = &quot;è¯·è¾“å…¥å†…å®¹&quot;
            value = </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>inputValue<span class="token punctuation">}</span><span class="token plain-text">
            onChange = </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span><span class="token plain-text">
            style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>marginRight<span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;350px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
            /&gt;
            &lt;Button type = &quot;primary&quot;
                    style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token string">&quot;80px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
                    onClick = </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token plain-text">
                    &gt;æäº¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            &lt;List
                bordered
                dataSource = </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>list<span class="token punctuation">}</span><span class="token plain-text">
                style = </span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token string">'350px'</span><span class="token punctuation">,</span> marginTop<span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
                renderItem = </span><span class="token punctuation">{</span>
                    <span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token operator">&lt;</span>List<span class="token punctuation">.</span>Item onClick <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                        props<span class="token punctuation">.</span><span class="token function">handleRemoveItem</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token plain-text">
                /&gt;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> TodoListUI2<span class="token punctuation">;</span>
</code></pre></div><p>æ— çŠ¶æ€çš„ç»„ä»¶æ€§èƒ½æ¯”è¾ƒé«˜ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è€Œæœ‰çŠ¶æ€çš„ç»„ä»¶ç»§æ‰¿è‡ª React.Componentï¼Œæœ‰ä¸€å¥—ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥è¦å»æ‰§è¡Œè¿™ä¸€å¥—ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥æ€§èƒ½è‚¯å®šæ²¡æœ‰åªéœ€è¦æ‰§è¡Œä¸€ä¸ªå‡½æ•°çš„ç»„ä»¶å¥½ã€‚<br>
æ— çŠ¶æ€ç»„ä»¶ä¸€èˆ¬ç”¨äº UI ç»„ä»¶ä¸­ã€‚</p> <h2 id="redux-ä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®"><a href="#redux-ä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®" class="header-anchor">#</a> Redux ä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®</h2> <p>åœ¨ ComponentDidMount ä¸­å‘é€ axios å¼‚æ­¥è¯·æ±‚ï¼Œç„¶ååˆå§‹åŒ–çŠ¶æ€ã€‚</p> <h2 id="ä½¿ç”¨-redux-thunk-ä¸­é—´ä»¶è¿›è¡Œ-ajax-è¯·æ±‚å‘é€"><a href="#ä½¿ç”¨-redux-thunk-ä¸­é—´ä»¶è¿›è¡Œ-ajax-è¯·æ±‚å‘é€" class="header-anchor">#</a> ä½¿ç”¨ Redux-thunk ä¸­é—´ä»¶è¿›è¡Œ ajax è¯·æ±‚å‘é€</h2> <p>é¦–å…ˆå®‰è£… Redux-thunk<br>
ä½¿ç”¨å‘½ä»¤ <code>yarn add redux-thunk</code> æˆ–è€… <code>npm install --save redux-thunk</code><br>
å¼•å…¥ <code>redux</code> çš„<code>createStoreã€applyMiddlewareã€compose</code><br>
ç„¶åå†å¼•å…¥ <code>redux-thunk</code> ï¼Œæœ€ååˆ›å»º<code>store</code>çš„æ—¶å€™å°†ä¸­è½¬ä¸€ä¸‹<code>thunk</code>åçš„<code>enhancer</code>ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’è¿›å»ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæ˜¯ä¸ºäº†å¯ä»¥<code>ä½¿ç”¨å¤š</code>ä¸ª<code>ä¸­é—´ä»¶</code>ã€‚</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span> applyMiddleware<span class="token punctuation">,</span> compose<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">'/reducer.js'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> composeEnhancers <span class="token operator">=</span> window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> conpose<span class="token punctuation">;</span>
<span class="token comment">// åšä¸€ä¸ªä¸­è½¬</span>
<span class="token keyword">const</span> enhancer <span class="token operator">=</span> <span class="token function">composeEnhancers</span><span class="token punctuation">(</span>
        <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span>thunk<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

<span class="token keyword">const</span> store<span class="token operator">=</span><span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> enhancer<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><p>ä½¿ç”¨<code>redux-thunk</code>ï¼Œå¯ä»¥è®©<code>store.dispatch</code>ä¸­å¯ä»¥<code>ä¼ é€’</code>ä¸€ä¸ª<code>å‡½æ•°</code>è€Œ<code>ä¸</code>æ˜¯<code>ä»…ä»…</code>åªèƒ½<code>æ˜¯ä¸€ä¸ªå¯¹è±¡</code>ï¼Œæ‰€ä»¥è¯´<code>redux-thunk</code>æ‰©å±•äº†<code>store.dispatch</code>çš„åŠŸèƒ½ï¼Œ<code>redux-thunx</code>å°±æ˜¯<code>rudux</code>çš„æ’ä»¶ã€‚</p> <p>ä½¿ç”¨<code>redux-thunk</code> ä¹‹åï¼Œä½ ä½¿ç”¨<code>store.dispatch</code>ï¼Œä½ å¦‚æœä¼ é€’ä¸€ä¸ªå‡½æ•°è¿›å»ï¼Œé‚£ä¹ˆå®ƒä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æŠŠ<code>store.dispatch</code>ä¼ é€’è¿›å»ã€‚<br>
å¦‚æœä½ ä¼ é€’çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä¼šå»è°ƒç”¨<code>reducer</code>è¿™ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯<code>reducer.js</code>å¯¼å‡ºçš„é‚£ä¸ªå‡½æ•°ã€‚<br>
é€šè¿‡é‚£ä¸ªå‡½æ•°æ¥è¿›è¡Œ<code>state</code>çš„å¤„ç†å’Œ<code>newState</code>çš„è¿”å›ï¼Œæœ€åé€šè¿‡<code>store</code>æ”¹å˜<code>state</code>ã€‚</p> <p>åœ¨ä½¿ç”¨<code>redux</code>åˆ›å»º<code>store</code> çš„æ—¶å€™ä¼šä½¿ç”¨åˆ°ä¸­é—´ä»¶ï¼Œè¿™æ˜¯ redux çš„ä¸­é—´ä»¶ã€‚</p> <h2 id="åˆ°åº•ä»€ä¹ˆæ˜¯-redux-ä¸­é—´ä»¶"><a href="#åˆ°åº•ä»€ä¹ˆæ˜¯-redux-ä¸­é—´ä»¶" class="header-anchor">#</a> åˆ°åº•ä»€ä¹ˆæ˜¯ Redux ä¸­é—´ä»¶ï¼Ÿ</h2> <p>å°±æ˜¯<code>å¯¹Redux</code>ä¸­<code>storeçš„dispatch</code>æ–¹æ³•<code>åš</code>äº†ä¸€ä¸ª<code>å‡çº§</code>ã€‚<br>
å¦‚<code>redux-thunk</code>å¯¹<code>dispatch</code>æ–¹æ³•<code>åš</code>äº†ä¸€ä¸ª<code>å‡çº§</code>ï¼Œ<code>é»˜è®¤</code>çš„ dispatch<code>åª</code>èƒ½<code>ä¼ é€’</code>ä¸€ä¸ª<code>å¯¹è±¡</code>ï¼Œç„¶åå°†è¿™ä¸ªå¯¹è±¡å’Œå½“å‰å…¨å±€çš„<code>state</code>ä¼ é€’ç»™<code>reducer</code>è¿™ä¸ªæ–¹æ³•å¹¶<code>è°ƒç”¨</code>ï¼Œæœ€åè·å–<code>reducer</code>æ–¹æ³•ä¸­çš„è¿”å›å€¼æ¥ä¿®æ”¹<code>state</code>ã€‚<br>
å‡çº§åçš„<code>dispatchæ”¯æŒæ¥æ”¶ä¸€ä¸ªå‡½æ•°</code>ï¼Œè¿™ä¸ª<code>å‡½æ•°</code>ä¼š<code>åœ¨dispatch</code>æ–¹æ³•ä½“<code>ä¸­è¢«æ‰§è¡Œ</code>ï¼Œå¹¶ä¸”ä¼šåœ¨<code>æ‰§è¡Œ</code>çš„<code>æ—¶</code>å€™<code>ä¼ é€’store.dispatch</code>è¿›å»ï¼Œ<code>ç›´åˆ°</code>ä½ <code>ä¼ é€’</code>çš„<code>æ˜¯ä¸€ä¸ªå¯¹è±¡</code>ï¼Œ<code>ä¹‹å</code>å°±<code>ä¼šåƒé»˜è®¤çš„dispatch</code>é‚£æ ·ï¼Œèµ°å®Œè¿™å¥—æµç¨‹å<code>æœ€ç»ˆä¿®æ”¹state</code>ã€‚</p> <h3 id="é™¤äº†-redux-thunk-è¿™æ ·çš„ä¸­é—´ä»¶ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ä¸­é—´ä»¶"><a href="#é™¤äº†-redux-thunk-è¿™æ ·çš„ä¸­é—´ä»¶ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ä¸­é—´ä»¶" class="header-anchor">#</a> é™¤äº† redux-thunk è¿™æ ·çš„ä¸­é—´ä»¶ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ä¸­é—´ä»¶</h3> <p>å¦‚ <code>redux-loger</code> :ç”¨æ¥è®°å½•æ¯æ¬¡ action çš„æ—¥å¿—<br>
å¦‚ <code>redux-saga</code>ï¼šå®ƒä¹Ÿæ˜¯è§£å†³<code>Redux</code>ä¸­å¼‚æ­¥é—®é¢˜çš„ä¸­é—´ä»¶ï¼Œå®ƒä¸åŒäº redux-thunk å°†å¼‚æ­¥è¯·æ±‚æ”¾åˆ° action ä¸­è¿›è¡Œï¼Œå®ƒæ˜¯æŠŠå¼‚æ­¥æ“ä½œå•ç‹¬çš„æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œç®¡ç†</p> <h2 id="redux-sage-ä¸­é—´ä»¶çš„ä½¿ç”¨"><a href="#redux-sage-ä¸­é—´ä»¶çš„ä½¿ç”¨" class="header-anchor">#</a> Redux-sage ä¸­é—´ä»¶çš„ä½¿ç”¨</h2> <p><code>Reduxä¸­é—´ä»¶</code>æŒ‡çš„æ˜¯ <code>action</code>å’Œ<code>store</code>çš„<code>ä¸­é—´</code>ï¼Œä¹Ÿå°±æ˜¯<code>dispatch</code>è¿™ä¸ªå‡½æ•°ï¼Œå¯¹å®ƒè¿›è¡Œ<code>å‡çº§</code>ï¼Œåªæœ‰<code>redux</code>ä¸­æ‰æœ‰<code>action</code>å’Œ<code>store</code>çš„æ¦‚å¿µï¼Œå°†å¼‚æ­¥ä»£ç æ”¾åˆ°<code>action</code>ä¸­å»åšï¼Œæœ‰åˆ©äº<code>è‡ªåŠ¨åŒ–æµ‹è¯•</code>ï¼Œå’Œ<code>ä»£ç </code>çš„<code>æ‹†åˆ†ç®¡ç†</code>ã€‚<br>
ä½¿ç”¨å‘½ä»¤å®‰è£… Redux-sagaï¼š<code>npm install redux-saga --save</code>æˆ–è€…<code>yarn add redux-saga</code><br>
ä½¿ç”¨<code>Redux-saga</code>ï¼šå…ˆä»<code>Redux-saga</code>ä¸­å¼•å…¥ <code>createSagaMiddleware</code>æ‰§è¡Œ<code>createSagaMiddleware()</code>ä¹‹åä¼ å…¥ <code>saga</code> ä¸­é—´ä»¶çš„çš„å¯¹è±¡</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span> applyMiddleware<span class="token punctuation">,</span> compose<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> createSagaMiddleware <span class="token keyword">from</span> <span class="token string">'redux-saga'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">'/reducer.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> sagaMiddlware <span class="token operator">=</span> <span class="token function">createSagaMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> composeEnhancers <span class="token operator">=</span> window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> conpose<span class="token punctuation">;</span>

<span class="token comment">// åšä¸€ä¸ªä¸­è½¬</span>
<span class="token keyword">const</span> enhancer <span class="token operator">=</span> <span class="token function">composeEnhancers</span><span class="token punctuation">(</span>
        <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span>sagaMiddlware<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> enhancer<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><p><code>compose</code> çš„ä½¿ç”¨: ä½ å¯ä»¥åœ¨é‡Œé¢<code>ä¼ é€’å¾ˆå¤š</code>çš„<code>æ–¹æ³•</code>ï¼Œ<code>ä¼ é€’çš„æ–¹æ³•ä¼šä¾æ¬¡è¢«æ‰§è¡Œ</code>ã€‚</p> <p><code>redux-saga</code> åœ¨å¤„ç†éå¸¸å¤§å‹é¡¹ç›®æ—¶ä¼˜äº<code>redux-thunk</code><br> <code>redux-thunk</code>æ²¡æœ‰ä»€ä¹ˆ apiï¼Œæ‰€ä»¥<code>å¾ˆç®€å•</code>ï¼Œ<code>redux-saga</code>æœ‰å¾ˆå¤š api æ‰€ä»¥<code>ç›¸å¯¹å¤æ‚ä¸€ç‚¹</code>ã€‚</p> <h2 id="react-redux"><a href="#react-redux" class="header-anchor">#</a> React-redux</h2> <p>æ˜¯ React ç¬¬ä¸‰æ–¹æ¨¡å—å„¿ï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨<code>redux</code>ã€‚<br>
ä½¿ç”¨å‘½ä»¤æ¥è¿›è¡Œå®‰è£…ï¼š<code>yarn add react-redux</code>ã€‚</p> <p><strong>react-redux ä¸­æä¾›çš„ API</strong></p> <p><code>Provider</code> ç»„ä»¶</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Providerè¡¨ç¤ºæä¾›å™¨ï¼Œstore <span class="token operator">=</span> storeè¡¨ç¤ºè¿æ¥storeï¼Œ
    è¿™æ ·ä¸€æ¥ï¼Œé‡Œé¢çš„ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿æ¥çš„storeäº†
<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> App<span class="token operator">=</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Provider store <span class="token operator">=</span> <span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TodoList</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>connect</code> æ–¹æ³•</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>connect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// è¿™ä¸ªå‡½æ•°è¡¨ç¤ºå°†storeä¸­stateæ˜ å°„åˆ°å½“å‰çš„propsä¸­å»</span>
<span class="token keyword">const</span> <span class="token function-variable function">mapStateToPorps</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        inputValue<span class="token operator">:</span>state<span class="token punctuation">.</span>inputValue
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¡¨ç¤ºå°†store.dispatchæ–¹æ³•æŒ‚è½½åˆ°propsä¸­çš„å‡½æ•°æˆå‘˜ä¸­ï¼Œ</span>
<span class="token comment">// ç„¶åå°±å¯ä»¥ç›´æ¥åœ¨å‡½æ•°ä¸­è°ƒç”¨dispatchäº†</span>
<span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">changeInputValue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token punctuation">{</span>
                type<span class="token operator">:</span> <span class="token string">'changeInputValue'</span><span class="token punctuation">,</span>
                value<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
            <span class="token punctuation">}</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// connenct è¡¨ç¤ºè¿æ¥Providerä¸­çš„store</span>
<span class="token comment">// mapStateToPorps è·å–å€¼ ï¼ŒmapDispatchToProps è®¾ç½®å€¼ï¼ŒTodoList è¢«è¿æ¥çš„ç»„ä»¶</span>

<span class="token comment">// æœ€ç»ˆè¿”å›ä¸€ä¸ªå®¹å™¨ç»„ä»¶</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToPorps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoList<span class="token punctuation">)</span>
</code></pre></div><h2 id="react-redux-çš„ä½¿ç”¨"><a href="#react-redux-çš„ä½¿ç”¨" class="header-anchor">#</a> React-redux çš„ä½¿ç”¨</h2> <p>connect æ–¹æ³•è¿”å›çš„ç»“æœå®é™…ä¸Šæ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œå› ä¸ºå®ƒé‡Œé¢åŒ…å«äº† æ•°æ®çš„ä¼ é€’å’Œæ–¹æ³•ä¼ é€’</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>connect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>inputChange<span class="token punctuation">,</span> clickSubmit<span class="token punctuation">,</span> clickRemoveItem<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./store/actionCreators.js'</span>

<span class="token comment">// è¿™æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„UIç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">TodoList</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span>handleInputChange<span class="token punctuation">,</span> handleClickSubmit<span class="token punctuation">,</span> handleClickRemoveItem<span class="token punctuation">,</span> list<span class="token punctuation">,</span> inputValue<span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            &lt;input onChange = </span><span class="token punctuation">{</span><span class="token function">handleInputChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"> type = &quot;text&quot; value = </span><span class="token punctuation">{</span>inputValue<span class="token punctuation">}</span><span class="token plain-text">/&gt;
            &lt;button onClick = </span><span class="token punctuation">{</span><span class="token function">handleClickSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">&gt;æäº¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>
                list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">(</span>
                        <span class="token operator">&lt;</span>li onClick <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token function">handleClickRemoveItem</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">}</span> key <span class="token operator">=</span> <span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// å°†store.stateæ˜ å°„åˆ°this.propsä¸­</span>
<span class="token keyword">const</span> <span class="token function-variable function">mapStateToPorps</span><span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token punctuation">{</span>
                            inputValue<span class="token operator">:</span> state<span class="token punctuation">.</span>inputValue<span class="token punctuation">,</span>
                            list<span class="token operator">:</span> state<span class="token punctuation">.</span>list
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
<span class="token comment">// å°†store.dispatch ä¼ é€’åˆ° æ‰€æœ‰çš„propsé‡Œçš„è‡ªå®šä¹‰å‡½æ•°ä¸­</span>
<span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">handleInputChange</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">inputChange</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">handleClickSubmit</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">clickSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">handleClickRemoveItem</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">clickRemoveItem</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¿™é‡Œè¿”å›ä¸€ä¸ªå®¹å™¨ç»„ä»¶</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToPorps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoList<span class="token punctuation">)</span>

</code></pre></div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>åœ¨reduxä¸­æœ‰å¾ˆå¤šçŠ¶æ€ç®¡ç†çš„ç¬¬ä¸‰æ–¹æ’ä»¶(ä¸­é—´ä»¶)ï¼Œæ¯”å¦‚react-thunkã€react-sagaï¼Œè¿™äº›ä¸­é—´ä»¶éƒ½æ˜¯é€šè¿‡å‡çº§dispatchè¿™ä¸ªæ–¹æ³•ï¼Œæ¥å®ç°æ›´åŠ ä¾¿æ·æ›´åŠ ä¼˜ç§€çš„çŠ¶æ€ç®¡ç†æœºåˆ¶ã€‚</p> <p>reactçš„react-reduxæ›´æ˜¯åŠ å…¥äº†å¯¹reduxçš„ç®€æ˜“å°è£…ï¼Œæ›´å¥½çš„è®©ä½ çš„ä»£ç ç»„ç»‡æ–¹å¼æ›´åŠ ä¼˜é›…ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡ï¼Œé™ä½å¿ƒæ™ºå‹åŠ›ã€‚</p> <p>Providerè¡¨ç¤ºæä¾›å™¨ï¼Œstore = storeè¡¨ç¤ºè¿æ¥storeï¼Œè¿™æ ·ä¸€æ¥ï¼Œé‡Œé¢çš„ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿æ¥çš„storeã€‚
connenct è¡¨ç¤ºè¿æ¥Providerä¸­çš„store</p> <p>mapStateToPorps ä»stateä¸­è·å–å€¼ï¼ŒmapDispatchToProps è®¾ç½®stateå€¼ï¼ŒTodoList è¢«è¿æ¥çš„ç»„ä»¶ã€‚<br>
mapStateToPorpsï¼šè¿™ä¸ªå‡½æ•°è¡¨ç¤ºå°†storeä¸­stateæ˜ å°„åˆ°å½“å‰çš„propsä¸­å»<br>
mapDispatchToPropsï¼šè¡¨ç¤ºå°†store.dispatchæ–¹æ³•æŒ‚è½½åˆ°propsä¸­çš„å‡½æ•°æˆå‘˜ä¸­ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥åœ¨å‡½æ•°ä¸­è°ƒç”¨dispatchäº†ã€‚</p></div></div> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=react" title="æ ‡ç­¾">#react</a><a href="/tags/?tag=redux" title="æ ‡ç­¾">#redux</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°æ—¶é—´:</span> <span class="time">04å¹´15æœˆ2022æ—¥ 05æ—¶37åˆ†45ç§’</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4241004044/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">React16_4æ•´ç†-Reduxå¼€ç¯‡</div></a> <a href="/pages/53933290429/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">React16_4æ•´ç†-å®æˆ˜</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/4241004044/" class="prev">React16_4æ•´ç†-Reduxå¼€ç¯‡</a></span> <span class="next"><a href="/pages/53933290429/"> React16_4æ•´ç†-å®æˆ˜ </a>
        â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/76224160416/"><div>2022å¹´4æœˆ15æ—¥</div></a> <span>04-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/56216400440/"><div>reactè®¾è®¡çš„å“²å­¦</div></a> <span>04-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/2541802042/"><div>reactå¿ƒå¾—</div></a> <span>04-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div> </main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2017-2022
    <span class="link">aiyoudiao ç äºŒ</span> <span>å¤‡æ¡ˆå·ï¼š</span> <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" title="å¤‡æ¡ˆå·">é„‚ICPå¤‡2022002654å·-1</a></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><!----><div id="VuepressPluginLive2d"></div></div></div>
    <script src="/assets/js/app.b0fcccfe.js" defer></script><script src="/assets/js/4.18cf3db0.js" defer></script><script src="/assets/js/5.db528381.js" defer></script><script src="/assets/js/39.ba46b0f0.js" defer></script><script src="/assets/js/10.5878982b.js" defer></script><script src="/assets/js/12.b50c8587.js" defer></script>
  </body>
</html>
