(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{452:function(t,e,c){},504:function(t,e,c){"use strict";var i=c(1),a=c(0),n=c(112),r=c(61),s=c(28),o=c(16),f=c(148),p=c(62),g=c(86)("splice"),d=a.TypeError,h=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!g},{splice:function(t,e){var c,i,a,g,u,l,v=o(this),b=s(v),_=n(t,b),j=arguments.length;if(0===j?c=i=0:1===j?(c=0,i=b-_):(c=j-2,i=m(h(r(e),0),b-_)),b+c-i>9007199254740991)throw d("Maximum allowed length exceeded");for(a=f(v,i),g=0;g<i;g++)(u=_+g)in v&&p(a,g,v[u]);if(a.length=i,c<i){for(g=_;g<b-i;g++)l=g+c,(u=g+i)in v?v[l]=v[u]:delete v[l];for(g=b;g>b-i+c;g--)delete v[g-1]}else if(c>i)for(g=b-i;g>_;g--)l=g+c-1,(u=g+i-1)in v?v[l]=v[u]:delete v[l];for(g=0;g<c;g++)v[g+_]=arguments[g+2];return v.length=b-i+c,a}})},505:function(t,e,c){"use strict";c(452)},519:function(t,e,c){"use strict";c.r(e);var i=c(57),a=c(87),n=(c(81),c(43),c(26),c(5),c(27),c(111),c(236),c(504),{name:"ImageShuffle",data:function(){return{adding:!1,loading:!1,getSister:o(),imgs:[],imgHeights:[],imgsLoaded:!1,leftImgIndexes:[],rightImgIndexes:[]}},mounted:function(){var t=this;return Object(a.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,c=t.getSister(),e.next=4,f(c);case 4:t.imgs=c,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:{add:function(){var t=this;return Object(a.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.adding){e.next=2;break}return e.abrupt("return");case 2:return t.adding=!0,c=t.getSister(),e.next=6,f(c);case 6:t.adding=!1,t.scheduleAnimation((function(){t.imgs=c.concat(t.imgs)}));case 8:case"end":return e.stop()}}),e)})))()},shuffle:function(){var t=this;this.scheduleAnimation((function(){t.imgs=g(t.imgs)}))},scheduleAnimation:function(t){var e=this,c=this.$refs.imgs.slice(),i=this.createSrcRectMap(c);console.info("prevSrcRectMap",i),t(),this.$nextTick((function(){var t=e.createSrcRectMap(c);console.info("createSrcRectMap",t),Object.keys(i).forEach((function(e){var c=t[e],a=i[e],n={left:a.left-c.left,top:a.top-c.top},r=[{transform:"translate(".concat(n.left,"px, ").concat(n.top,"px)")},{transform:"translate(0, 0)"}],s=c.img.animate(r,{duration:300,easing:"cubic-bezier(0,0,0.32,1)"});console.info(s)}))}))},reset:function(){this.getSister=o(),this.imgs=this.getSister()},createSrcRectMap:function(t){return t.reduce((function(t,e){var c=e.getBoundingClientRect(),i=c.left,a=c.top;return t[e.src]={left:i,top:a,img:e},t}),{})}}}),r=["https://pic1.zhimg.com/v2-ca51a8ce18f507b2502c4d495a217fa0_r.jpg","https://pic1.zhimg.com/v2-c90799771ed8469608f326698113e34c_r.jpg","https://pic1.zhimg.com/v2-8d3dd83f3a419964687a028de653f8d8_r.jpg","https://pic1.zhimg.com/v2-09eefac19ac282684f60a202aa9abb2c_r.jpg","https://pic2.zhimg.com/v2-37860484a1a73257178e95267c7db641_r.jpg","https://pic2.zhimg.com/v2-7fc30291c807d07d2d26c5a8ffdd3b89_r.jpg","https://pic4.zhimg.com/v2-02efe89495be4f68f6b7b6c510da36cf_r.jpg","https://pic4.zhimg.com/v2-aeadbc3d02af2631e3a7acd0dc72b01b_r.jpg","https://pic3.zhimg.com/v2-a71fad6a1fee2614ad95a4bae0376eb6_r.jpg","https://pic3.zhimg.com/v2-861f71f28e361237003aa1c88188f326_r.jpg","https://pic4.zhimg.com/v2-525c8002eb619387e7a31f67169f8a2b_r.jpg","https://pic4.zhimg.com/v2-0dcbcf5a48a97afab7439e09af65c98f_r.jpg","https://pic1.zhimg.com/v2-d640737ff5eac65fe30375f324512d00_r.jpg","https://pic1.zhimg.com/v2-6e92b4576b93302ad5fe04c7e95e375c_r.jpg","https://pic1.zhimg.com/v2-5e4a1221996179cbacc5d7450d25f908_r.jpg","https://pic3.zhimg.com/v2-7f58a7d6e8b1ed3f653a96ae9d6e1e2e_r.jpg","https://pic4.zhimg.com/v2-fb767fd3f56591a3c4b2b4089c47776f_r.jpg","https://pic2.zhimg.com/v2-6b9847e11d3a8cac8ac0ef52bffd9af5_r.jpg","https://pic2.zhimg.com/v2-6f2119f99200fc61abc246eea36f25b1_r.jpg","https://pic4.zhimg.com/v2-2103acaf025ceda331a0dd59022443ab_r.jpg","https://pic2.zhimg.com/v2-edc1b118c420939c545b1449344139b5_r.jpg","https://pic2.zhimg.com/v2-d94530f491f23c61659ef458ac8a9db5_r.jpg","https://pic2.zhimg.com/v2-ff15820a9c1cb8e2bb0af1048ea81145_r.jpg","https://pic4.zhimg.com/v2-a8fb0a1d8581e4bfce905791271711c7_r.jpg","https://pic2.zhimg.com/v2-1008cd2c72129809cc348cdc04310475_r.jpg"],s=[1,2,3,4],o=function(){var t=r.slice(),e=!0;return function(){if(e)return e=!1,t.splice(0,8);var c=p(0,s.length-1);return t.splice(0,s[c])}},f=function(t){return new Promise((function(e){t.length||e();var c=t.length,i=0;t.forEach((function(t){var a=new Image,n=function(){++i===c&&e()};a.onload=n,a.onerror=n,a.src=t}))}))},p=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},g=function(t){for(var e=t.slice(),c=0;c<e.length;c++){var i=p(0,c),a=e[c];e[c]=e[i],e[i]=a}return e},d=n,h=(c(505),c(20)),m=Object(h.a)(d,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"image-shuffle"},[c("div",{staticClass:"action"},[c("button",{on:{click:t.add}},[c("span",{directives:[{name:"show",rawName:"v-show",value:t.adding,expression:"adding"}]},[t._v("下载中……")]),t._v(" "),c("span",{directives:[{name:"show",rawName:"v-show",value:!t.adding,expression:"!adding"}]},[t._v("追加图片")])]),t._v(" "),c("button",{on:{click:t.shuffle}},[t._v("乱序图片")]),t._v(" "),c("button",{on:{click:t.reset}},[t._v("重置")])]),t._v(" "),t.loading?c("div",{staticClass:"loading"},[t._v("正在加载图片……")]):c("div",{staticClass:"wrap"},t._l(t.imgs,(function(t){return c("div",{key:t,staticClass:"img-wrap"},[c("img",{ref:"imgs",refInFor:!0,staticClass:"img",attrs:{src:t}})])})),0)])}),[],!1,null,"1cd58ad8",null);e.default=m.exports}}]);